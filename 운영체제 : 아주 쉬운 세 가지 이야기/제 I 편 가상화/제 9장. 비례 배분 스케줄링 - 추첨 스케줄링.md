# 제12장 비례 배분 스케줄링

## 🎯 핵심 질문
- CPU를 정해진 비율로 어떻게 배분할 것인가?
- 추첨 기반 접근 방식이 어떻게 작동하며 어떤 장점이 있는가?

---

## 🎫 기본 개념: 추첨권
- 각 프로세스는 추첨권(티켓)을 가짐
- 전체 티켓 수 대비 비율만큼 CPU 시간 배분
- 예: A가 75장, B가 25장 → A가 75% CPU 점유 기대

---

## 🌀 작동 원리
- 타임 슬라이스 종료 시 무작위로 추첨
- 당첨된 프로세스가 다음 CPU 시간 획득
- 반복 시행 시 통계적으로 비례 배분 달성

---

## 🛠 다양한 기법
1. **추첨권 화폐 (Currency)**: 사용자 단위로 티켓 관리
2. **추첨권 양도 (Transfer)**: 클라이언트가 서버에 티켓 위임
3. **팽창 (Inflation)**: 일시적 티켓 수 조정

---

## 🧑‍💻 구현
- 단순한 리스트 구조와 난수 생성기만으로 구현 가능
- 난수로 추첨 → 리스트를 순회하며 당첨자 탐색

---

## 📊 공정성 지표
- **Unfairness Metric (U)**: 두 작업의 종료 시간 비율
- U = 1에 가까울수록 공정함

---

## 🧮 결정론적 대안: 보폭 스케줄링 (Stride Scheduling)
- 각 프로세스는 stride(보폭)와 pass 값을 가짐
- 작은 pass 값을 가진 프로세스를 실행
- 실행할수록 pass 값 증가 → CPU 점유율 통제
- 무작위성 없이 정확한 비례 배분 가능

---

## 🧠 요약
- 추첨 스케줄링은 간단하고 유연하지만 단기적으로는 부정확할 수 있음
- 보폭 스케줄링은 정확하지만 상태 정보 필요
- 시스템에 따라 두 방식 모두 사용 가능 (예: VMware ESX)
