# Chapter 07. 보조기억장치
## 7-1. 다양한 보조기억장치
- 가장 대중적인 보조기억장치는 하드 디스크와 플래시 메모리이다.
  - 플래시 메모리는 우리가 흔히 사용하는 USB 메모리, SD 카드, SSD와 같은 저장 장치를 말한다. 

### 하드 디스크
- **하드디스크(HDD: Hard Disk Drive)**
  - 자기적인 방식으로 데이터를 저장하는 보조기억장치이다.
  - **자기 디스크(magnetic disk)** 의 일종으로 지칭하기도 한다.
- **플래터(platter)**
  - 하드 디스크에서 실질적으로 데이터가 저장되는 곳으로 동그란 원판 구조이다.
  - 하드 디스크는 자기적인 방식으로 데이터를 저장하여 플래터는 자기 물질로 덮여 있어 수많은 N극과 S극을 저장한다.
    - N극과 S극은 0과 1의 역할을 수행한다.
- 그 플래터를 회전시키는 구성 요소를 **스핀들(spindle)** 이라 한다.
  - 스핀들이 플래터를 돌리는 속도는 분당 회전수를 나타내는 **RPM(Revolution Per Minute)** 라는 단위로 표현된다.
  - 가령 RPM이 15,000인 하드 디스크는 1분에 15,000바퀴를 회전하는 하드 디스크이다. 
- 플래터를 대상으로 데이터를 읽고 쓰는 구성 요소는 **헤드(head)** 이다.
  - 헤드는 플래터 위에서 미세하게 떠 있는 채로 데이터를 읽고 쓰는, 마치 바늘같이 생긴 부품이다.
  - 그리고 헤드를 원하는 위치로 헤드를 이동시키는 **디스크 암(disk arm)** 에 부착되어 있다.
- CD나 LP에 비해 하드 디스크는 훨씬 더 많은 양의 데이터를 저장해야 하므로 일반적으로 여러 겹의 플래터로 이루어져 있고 플레터 양면을 모두 사용할 수 있다.
- 양면 플래터를 사용하면 위아래로 플래터당 두 개의 헤드가 사용된다.

#### 플래터에 데이터가 저장되는 방법
- 플래터는 **트랙(track)** 과 **섹터(sector)** 라는 단위로 데이터를 저장한다.
  - 섹터는 하드 디스크의 가장 작은 전송 단위이다.
  - 하나의 섹터는 일반적으로 512바이트 정도의 크기를 가지고 있지만, 정확한 크기는 하드 디스크에 따라 차이가 있다.
  - 하나 이상의 섹터를 묶어 **블록(block)** 이라 표현하기도 한다.
- 여러 겹의 플래터 상에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위를 **실린더(cylinder)** 라고 부른다.
  - 쉽게 말해 한 플래터를 동심원으로 나눈 공간은 트랙, 같은 트랙끼지 연결한 원통 모양의 공간은 실린더라고 부른다.
- 연속된 정보는 보통 한 실린더에 기록된다.
  - 연속된 정보를 하나의 실린더에 기록하는 이유는 디스크 암을 움직이지 않고도 바로 데이터에 접근할 수 있기 때문이다.
- 하드 디스크가 저장된 데이터에 접근하는 시간은 크게 **탐색 시간, 회전 지연, 전송 시간** 으로 나뉜다.
  - **탐색 시간(seek time)** 은 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간을 의미한다.
  - **회전 지연(rotational latency)** 은 헤드가 있는 곳으로 플래터를 회전시키는 시간을 의미한다.
  - **전송 시간(transfer time)** 은 하드 디스크와 컴퓨터 간에 데이터를 전송하는 시간을 의미한다.
- 제프 딘의 '프로그래머가 꼭 알아야 할 컴퓨터 시간'

|                             |             |
|-----------------------------|-------------| 
| L1 캐시 참조 시간                 | 0.5ns       |
| L2 캐시 참조 시간                 | 5ns         |
| 메모리 참조 시간                   | 7ns         |
| 메모리에서 1MB를 순차적으로 읽는 시간      | 250,000ns    |
| (하드) 디스크 탐색 시간              | 10,000,000ns          |
| (하드) 디스크에서 1MB를 순차적으로 읽는 시간 | 30,000,000ns          |
| 한 패킷이 캘리포니아에서 네덜란드까지 왕복하는 시간 | 150,000,000ns              |

- 탐색 시간가 회전 지연을 단축 시키기 위해서는 플래터를 빨리 돌려 RPM을 높이는 것도 중요하지만 참조 지역성, 즉 접근하려는 데이터가 플래터 혹은 헤드를 조금만 옮겨도 접근할 수 있는 곳에 위치해 있는 것도 중요하다.
> #### 다중 헤드 디스크와 고정 헤드 디스크
> - 플래터의 한 면당 헤드가 하나씩 달려 있는 하드 디스크를 **단일 헤드 디스크(single-head disk)** 라고 부른다
> - 반면, 헤드가 트랙별로 여러 개 달려 있는 하드 디스크도 있는데 이를 **다중 헤드 디스크(multiple-head disk)** 라고 부른다.
> - 다중 헤드 디스크는 트랙마다 헤드가 있기 때문에 탐색 시간이 들지 않는다.
> - 따라서 다중 헤드 디스크는 탐색 시간이 0이다.
> - 이런 점에서 헤드를 움직일 필요가 없는 다중 헤드 디스크를 **고정 헤드 디스크(fixed-head disk)** 라고 부른다.
> - 반대로 헤드를 데이터가 있는 곳까지 움직여야 하는 단일 헤드 디스크를 **이동 헤드 디스크(movable-head disk)** 라고 부른다.

### 플래시 메모리
- 하드 디스크는 최근에 많이 사용하는 보조기억장치이지만, **플래시 메모리(flash memory)** 기반의 보조기억장치 또한 많이 사용된다.
  - 우리가 흔히 사용하는 USB 메모리, SD 카드, SSD가 모두 플래시 메모리 기반의 보조기억장치이다.
- 플래시 메모리는 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반 저장 장치이다.
  - 사실 플래시 메모리는 보조기억장치 범주에만 속한다기보다 다양한 곳에서 널리 사용하는 저장 장치로 보는것이 옳다.
  - 주기억장치 중 하나인 ROM에도 사용되고, 우리가 일상적으로 접하는 거의 모든 전자 제품 안에 플래시 메모리가 내장되어 있다고 봐도 무방하다.
> #### 두 종류의 플래시 메모리
> - 플래시 메모리에는 크게 **NAND 플래시 메모리** 와 **NOR 플래시 메모리** 가 있다. 
> - NAND 플래시와 NOR 플래시는 각각 NAND 연산을 수행하는 회로(NAND 게이트)와 NOR 연산을 수행하는 회로(NOR 게이트)를 기반으로 만들어진 메모리를 뜻한다.
> - 이 둘 중 대용량 저장 장치로 많이 사용되는 플래시 메모리는 NAND 플래시 메모리이다.
> - **플래시 메모리는 특별한 언급이 없는 이상 NAND 플래시 메모리를 지칭한다 봐도 무방하다.**
- 플래시 메모리에는 **셀(cell)** 이라는 단위가 있다. 
- 셀이란 플래시 메모리에서 데이터를 저장하는 가장 작은 단위이다.
  - 이 셀이 모여 MB, GB, TB 용량을 갖는 저장 장치가 된다.
  - 이때 하나의 셀에 몇 비트를 저장할 수 있느냐에 따라 플래시 메모리 종류가 나뉜다.
    - 한 셀에 1비트를 저장할 수 있는 플래시 메모리를 **SLC(Single Level Cell)** 타입
    - 한 셀에 2비트를 저장할 수 있는 플래시 메모리를 **MLC(Multiple Level Cell)** 타입
    - 한 셀에 3비트를 저장할 수 있는 플래시 메모리를 **TLC(Triple Level Cell)** 타입
    - 
---
