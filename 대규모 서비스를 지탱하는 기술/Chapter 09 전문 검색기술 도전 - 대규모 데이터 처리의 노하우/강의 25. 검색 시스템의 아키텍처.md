# Chapter 09 전문 검색기술 도전 - 대규모 데이터 처리의 노하우---## 강의 25. 검색 시스템의 아키텍처### 검색 시스템이 완성되기까지"전문 검색"이라고 해도 사실 할 것은 매우 많다.1. 크롤링2. 저장3. 인덱싱4. 검색5. 스코어링6. 결과표시### 전문 검색의 종류> #### 전문 검색의 종류> - grep형 => grep, Shunsaku> - Suffix형 => Sedue> - 역 인덱스형 => 주류#### grep형검색 대상 문서를 처음부터 전부 읽어가는 가장 단순한 아키텍처다.   단순하게 검색 대상인 텍스트(text)의 길이를 m, 검색하려는 검색어(word)의 길이를 n이라고 헀을 때 O(mn)만큼 걸린다.   검색 처리로서는 상당한 시간이 걸린다.- 단순 검색 => O(mn), text : m, word : n- KMP법 => O(m+n)- BM법 => 최악일 때 O(mn), 최선일 때 O(n/m)즉시성이 좋다. 문서가 갱신되더라도 바로 검색할 수 있고 검색 누락이 없다.   그리고 병렬화하기가 매우 간단하다. 매우 긴 문서를 검색하고자 할 때 분할해서 병렬로 검색해도 되고 혹은 AC법과 같이 검색하고자 하는 단어를 하나의 오토마톤에 모아서 그 안으로 문서를 집어넣게 되면 복수 검색어를 한 번에 검색할 수 있다.   그렇게 해서 병렬도를 높일 수는 있으므로 대규모 검색에 전혀 적합하지 않다고 할 수는 없다.#### Suffix형검색 대상 전문을 검색 가능한 형태로 가지고 있다.   데이터 구조로는 Trie나 Suffix Array, Suffix Tree 등이 있다.   문서를 검색 가능한 형태로 가지고 있으며 전부 메모리에 올릴 수 있는 형태가 된다.빠르게 검색할 수 있는 수단이지만 구현하기가 어렵다.#### 역 인덱스형간단히 말하자면 단어(term)와 문서를 연관짓는 것이다.역 인덱스 방식의 특징은 역 인덱스를 문서와는 별개로 만들어야 한다. 즉, 검색하기 전에 인덱스를 전처리로 만들어야 하기에 grep과 같이 문서가 변경되면 바로 검색 결과가 바뀌는 형태의 구현은 할 수 없다.(할 수 없는게 아니라 연구가 필요함)따라서 즉시성 측면에서는 뛰어나지 못하다. 그리고 구현방법에 따라서 검색누락이 생길 수 있다.인덱스를 압축함으로써 컴팩트하게 가져갈 수 있고 대규모화하기 쉽다.   구현도 적절한 공수로 끝낼 수 있기에 밸런스가 좋다.