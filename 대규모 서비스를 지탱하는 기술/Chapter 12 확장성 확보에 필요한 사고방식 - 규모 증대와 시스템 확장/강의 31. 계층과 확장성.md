# Chapter 12 확장성 확보에 필요한 사고방식 - 규모 증대와 시스템 확장---## 강의 31. 계층과 확장성### 확장성에 대한 요구 - 서버 한대에서 처리할 수 있는 트래픽 한계#### 단일 서버의 트래픽 처리 한계- 최근의 서비스 중 상당수는 **단일 서버(1대)**로 운영되고 있음- **하테나의 표준 사양**    - CPU: 4 Core    - 메모리: 8GB    - 이 사양으로 **수천 요청/분** 수준의 피크 성능을 낼 수 있음- 경험 기반 추정 수치이며, **애플리케이션 특성에 따라 다르게 나타날 수 있음**#### 월간 PV(Page View) 기준 성능- **수천 요청/분** → **약 100만 PV/월** 처리 가능- 트래픽이 다소 증가해도, **DB 분리** 등의 조치로 대응 가능#### 고사양 서버 사용 시- 예:    - CPU: 4 Core × 2    - 메모리: 32GB- 피크 시 **수천 ~ 1만 요청/분** 수준까지 처리 가능- 대략 **200만 PV/월** 수준까지 커버 가능#### 대규모 트래픽 처리의 필요성- 하테나 서비스 중 일부는 **수억 PV/월**에 달하는 트래픽이 발생- **백만(PV)** 과 **억(PV)** 단위 간 차이는 **두 자릿수**- 이러한 규모의 확장은 단순히 서버 사양을 올리는 것으로는 불충분- **계층 구조 설계와 확장성 확보가 필수 과제**- 이를 위해 **다양한 기술과 노하우**가 축적되고 적용되고 있음### 계층별 확장성AP 서버는 기본적으로 그다지 깊은 수준까지 생각하지 않아도 비교적 간단하게 확장시킬 수 있다.   그 이유는 AP 서버는 상태를 갖고 있지 않으므로 요청별로 다른 AP 서버로 날려보내도 처리상 문제가 발생하지 않고, 로드밸런서에 새로운 서버를 추가해가면 점점 확장되어 간다.   즉, 대수만 늘리면 얼마든지 확장되는 구성으로 되어 있다.또한 DB나 파일 서버의 경우 분산, 확장성 확보가 매우 어렵다.   데이터 소스로의 요청은 read(읽기)와 write(쓰기), 2종류로 나뉘는데, read를 분산하는 것은 비교적 용이한 반면, write를 분산하는 것은 매우 어렵게 되어 있다.