# Part 2. 전술적 설계
## 06. 복잡한 비즈니스 로직 다루기

### 도메인 모델
- 요구사항은 다양한 규칙 간에 그물 같은 의존성을 형성하고, 모든 규칙은 지원 티켓의 수명주기 관리 로직에 영향을 준다.
- 액티브 레코드 객체를 사용하여 로직을 구현하면 로직이 중복되거나 일부 비즈니스 규칙이 잘못 구현되어 시스템의 상태를 손상시키기 쉽다.

### 구현
- 도메인 모델은 행동(behavior）과 데이터（data）모두를 포함하는 도메인의 객체 모델이다. DDD의 전술 패턴인 애그리게이트, 밸류 오브젝트, 도메인 이벤트, 도메인 서비스는 모두 객체 모델2의 구성요소다.
- 이 같은 모든 패턴은 비즈니스 로직을 최우선으로 둔다는 공통 관심사가 있다.
#### 복잡성
- 도메인 비즈니스 로직은 이미 본질적으로 복잡하므로 모델링에 사용되는 객체가 모델에 조금이라도 우발적 복잡성을 추가하면 안 된다.
- 모델에는 데이터베이스 또는 외부 시스템 구성요소의 호출 구현 같은 인프라 또는 기술적인 관심사를 피해야 한다
#### 유비쿼터스 언어
- 도메인 모델의 객체가 기술적 관심사가 아닌 비즈니스 로직에 집중하게 하면 바운디드 컨텍스트에서 사용하는 유비쿼터스 언어의 용어를 따르기 쉬워진다.

### 구성요소
#### 밸류 오브젝트
- 밸류 오브젝트는 예를들어, 색（color）처럼 복합적인（composition）값에 의해 식별되는 객체다.
```java
class Color
{
    int _red;
    int _green;
    int _blue;
}
```
- 빨강, 녹색, 파랑의 세 필드 값이 복합적으로 색을 정의한다.
- 필드 중 하나의 값이 바뀌면 새로운 색이 탄생한다.
- 같은 값을 갖는 두 개 이상의 색은 존재하지 않는다. 
- 또한 같은 색의 두 인스턴스는 반드시 같은 값을 갖는다. 
- 그러므로 색을 식별하기 위한 명시적인 식별 필드가 필요 없다.
#### 에그레게이트
- 
#### 도메인 서비스
- 